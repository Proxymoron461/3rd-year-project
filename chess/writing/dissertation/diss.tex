\documentclass[12pt, a4paper, bibliography=notnumbered]{scrreprt}
\usepackage[utf8]{inputenc}
\usepackage[hidelinks]{hyperref}
\usepackage{xurl}
\usepackage{listings}
\usepackage{FiraSans}
\usepackage{palatino}
\usepackage[T1]{fontenc}  % Correct formatting for >, <, |, etc.
\usepackage{FiraMono}  % Keep last to maintain monospace font
\usepackage{xcolor}
\usepackage{parskip}
\usepackage[multiple]{footmisc}
\usepackage{skak}
\usepackage[noabbrev,capitalise,nameinlink]{cleveref}
\usepackage[font=itshape]{quoting}
\usepackage{pdfpages}
\usepackage{graphicx}
\usepackage{chessboard}
\usepackage{pgf}

\definecolor{background}{rgb}{0.97, 0.97, 0.97}
\definecolor{comments}{rgb}{0.0, 0.64, 0.0}
\definecolor{keywords}{rgb}{0.0, 0.0, 0.64}
\definecolor{identifiers}{rgb}{0.63, 0.81, 0.94}
\definecolor{strings}{rgb}{1.0, 0.3, 0.0}

\lstset{
    language=haskell,
    basicstyle=\footnotesize\ttfamily,
    backgroundcolor=\color{background},
    keywordstyle=\color{keywords}\bfseries,
    commentstyle=\color{comments}\textit,
    stringstyle=\color{strings},
    % identifierstyle=\color{identifiers},
    breakatwhitespace=true,
    breaklines=true,
    keepspaces=true,
    captionpos=b,
    frame=tlbr,    % Margin at all 4 sides
    framesep=4pt,  % Margin size
    framerule=0pt,
    morekeywords={Eval, Exp, family, instance},
    deletekeywords={map, and, error, take}
}

\RedeclareSectionCommands[
  afterskip=1sp
]{paragraph,subparagraph}

\setkomafont{sectioning}{\firamedium}

% Line spacing
\renewcommand{\baselinestretch}{1.3}

% Change abstract appearance
\renewenvironment{abstract}
 {\small
  \begin{center}
  \bfseries \textit{\abstractname}\vspace{-.5em}\vspace{0pt}
  \end{center}
  \quotation}
 {\endquotation}

% Custom command for all inline code styling
\newcommand{\inline}[1]{\lstinline[basicstyle=\ttfamily\footnotesize]{#1}}

\title{Chesskell: Embedding a Two-Player Game in Haskell's type system}
\author{Toby Bailey}
\date{\today}

\begin{document}

\begin{titlepage}
    \maketitle
\end{titlepage}

\input{abstract.tex}

{
    \newpage  % So that \phantomsection lines up nicely
    \phantomsection
    \addcontentsline{toc}{chapter}{Contents}
    \renewcommand{\normalfont}{\usekomafont{sectioning}}
    \usekomafont{sectioning}{\tableofcontents}
}


\input{introduction.tex}
\input{background.tex}
\input{design.tex}
\input{implementation.tex}
\input{evaluation.tex}
\input{conclusions.tex}

\bibliographystyle{ieeetr}

\bibliography{diss}

\input{appendix.tex}

\end{document}